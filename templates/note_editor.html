{% extends 'base.html' %}
{% block title %}Edit Note{% endblock %}

{% block quote %}{% endblock %}
{% block body %}
    {% if note_mode == "create" %}
    <h2>Create a Note</h2>
    <form action="/create-note" method="POST">
        <p>
            Title <input type='text' name="title">
        </p>
        <p>
            Body <textarea type="text" name="body" id="text-body"></textarea>
        </p>
        <p>
            <button id="image-note" class="cloudinary-button">Upload Image as Note</button>
            <button id="image-attachment" class="cloudinary-button">Attach Image to Note</button>
        </p>
        <img id="uploadedimage" src=""></img> 
        <p>
            <input type="submit" value="Save">
        </p>
    </form>
    <form action="/cancel">
        <input type="submit" value="Cancel">
    </form>
    {% endif %}

    {% if note_mode == "edit" %}
    <h2>Edit Note</h2>
    <form action="/edit-note/{{ note.note_id }}" method="POST">
        <p>
            Title <input type='text' name="title" value="{{ note.title }}">
        </p>
        <p>
            Body <textarea type="text" name="body" id="text-body">{{ note.body }}</textarea>
        </p>
        <p>
            <button id="image-note" class="cloudinary-button">Upload Image as Note</button>
            <button id="image-attachment" class="cloudinary-button">Attach Image to Note</button>
        </p>
        <img id="uploadedimage" src=""></img> 
        <p>
            <input type="submit" value="Save">
        </p>
    </form>
    <form action="/notes/{{ note.note_id }}">
        <input type="submit" value="Cancel">
    </form>
    {% endif %}
{% endblock %}

{% block js %}
    <script src="https://upload-widget.cloudinary.com/global/all.js" type="text/javascript"></script>
    <script src="/static/js/note_upload.js"></script>
{% endblock %}